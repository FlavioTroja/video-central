var Kudoable,__bind=function(e,t){return function(){return e.apply(t,arguments)}};Kudoable=function(){function e(e){this.element=e,this.unlike=__bind(this.unlike,this),this.complete=__bind(this.complete,this),this.end=__bind(this.end,this),this.start=__bind(this.start,this),this.bindEvents(),this.element.data("likeable",this),this.meta=jQuery(".like-meta-"+this.element.attr("data-id")),this.element.data("likeable",this)}return e.prototype.bindEvents=function(){return this.element.children(".like-object").mouseenter(this.start),this.element.children(".like-object").mouseleave(this.end),window.likesdata.unlike?this.element.children(".like-object").click(this.unlike):this.element.children(".like-object").css("cursor","default"),jQuery(document).on("touchstart",this.element.children(".like-object"),this.start),jQuery(document).on("touchend",this.element.children(".like-object"),this.end)},e.prototype.isKudoable=function(){return this.element.hasClass("likeable")},e.prototype.isKudod=function(){return this.element.hasClass("like-complete")},e.prototype.start=function(){if(this.isKudoable()&&!this.isKudod())return this.element.trigger("like:active"),this.element.addClass("like-active"),this.meta.children(".like-hideonhover").hide(),this.meta.children(".like-dontmove").show(),this.timer=setTimeout(this.complete,700),this.timer},e.prototype.end=function(){if(this.isKudoable()&&!this.isKudod()&&(this.element.trigger("like:inactive"),this.element.removeClass("like-active"),this.meta.children(".like-hideonhover").show(),this.meta.children(".like-dontmove").hide(),null!=this.timer))return clearTimeout(this.timer)},e.prototype.complete=function(){return this.end(),this.incrementCount(),this.element.addClass("like-complete"),this.element.trigger("like:added")},e.prototype.unlike=function(e){if(e.preventDefault(),this.isKudod())return this.decrementCount(),this.element.removeClass("like-complete"),this.element.trigger("like:removed")},e.prototype.setCount=function(e){return this.meta.find(".like-count:first").html(e)},e.prototype.currentCount=function(){return parseInt(this.meta.find(".like-count:first").html())},e.prototype.incrementCount=function(){return this.setCount(this.currentCount()+1)},e.prototype.decrementCount=function(){var e=this.currentCount();return e>0?this.setCount(this.currentCount()-1):e},e}(),jQuery(function(e){return e.fn.likeable=function(){return this.each(function(){return new Kudoable(e(this))})}});var VideoCentral={init:function(){var e=jQuery(".video-central-single-content").data("toggle");VideoCentral.loopViewSwitcher(),VideoCentral.lessMore(),jQuery(".orderby-select").change(function(){location.href=this.options[this.selectedIndex].value}),e&&jQuery(".video-central-single-content").readmore({speed:75,collapsedHeight:200,lessLink:'<a href="#">Read less</a>',moreLink:'<a href="#">Read more</a>'}).append('<a href="#">Read more</a>')},connectedControl:function(e,t){jQuery(".video-home-slider-grid").width();void 0!==jQuery().jcarousel&&t.jcarousel("items").each(function(){var i=jQuery(this),o=e.jcarousel("items").eq(i.index());i.on("click",function(){"stopped"===e.data("jcarouselautoscroll")&&(e.jcarouselAutoscroll("start"),e.data("jcarouselautoscroll",!0))}).on("active.jcarouselcontrol",function(){t.jcarousel("scrollIntoView",this),i.addClass("active")}).on("inactive.jcarouselcontrol",function(){i.removeClass("active")}).jcarouselControl({target:o,carousel:e})})},clickAjax:function(e,t,i){if(!t.data("ajaxload"))return!1;jQuery(e).on("click",function(e){return e.preventDefault(),i.data("jcarouselautoscroll")&&i.jcarouselAutoscroll("stop").data("jcarouselautoscroll","stopped"),!1})},stageSetup:function(e){e.find(".item-video").each(function(){jQuery(this).find(".video").length&&jQuery(this).find(".thumb, .caption").hide()})},autoScroll:function(e){var t=e.data("autoscroll-interval");t>0&&e.jcarouselAutoscroll({interval:t,autostart:!0})},targetedStage:function(e){e.on("itemtargetin.jcarousel",".video-item",function(e,t){var i=jQuery(this);i.find(".thumb").show(),i.find(".caption").show(),i.siblings(".video-item").find(".video").remove(),i.parents(".video-wall-wrap").find(".entry-header").hide(),i.parents(".video-wall-wrap").find('.entry-header[data-id="'+i.data("id")+'"]').fadeIn()}).on("itemtargetout.jcarousel",".video-item",function(e,t){jQuery(this)})},prevNextControl:function(e){jQuery(".video-carousel-list-prev").on("inactive.jcarouselcontrol",function(){jQuery(this).addClass("inactive")}).on("active.jcarouselcontrol",function(){jQuery(this).removeClass("inactive")}).jcarouselControl({target:"-=1",carousel:e}),jQuery(".video-carousel-list-next").on("inactive.jcarouselcontrol",function(){jQuery(this).addClass("inactive")}).on("active.jcarouselcontrol",function(){jQuery(this).removeClass("inactive")}).jcarouselControl({target:"+=1",carousel:e})},lessMore:function(){var e=jQuery(".video-central-single-content"),t=e.data("less-height")?e.data("less-height"):200;e.outerHeight(!1)>t&&e.height(t),jQuery(".video-central-info-toggle-button").on("click",function(e){e.preventDefault(),jQuery(this).parent().siblings(".video-central-single-content").toggleClass("toggled"),jQuery(this).siblings(".video-central-content-gradient").toggleClass("hidden"),jQuery(this).toggleClass("is-open")})},loopViewSwitcher:function(){var e="video_central_loop_view",t="small-block-grid-",i=jQuery.cookie(e),o=jQuery(".switchable-view"),r=o.attr("data-view");if(i){var n=o.attr("class").split(/\s+/);jQuery.each(n,function(e,i){-1!==i.indexOf(t)&&o.removeClass(i)}),o.stop().fadeOut(100,function(){r&&o.removeClass(r),o.fadeIn().attr("data-view",i).addClass(i)})}jQuery(".loop-actions .view a").on("click",function(i){i.preventDefault();var n=jQuery(this).attr("data-type");if(n===r)return!1;jQuery(this).addClass("current").siblings("a").removeClass("current"),o.stop().fadeOut(100,function(){if(r){var e=o.attr("class").split(/\s+/);jQuery.each(e,function(e,i){-1!==i.indexOf(t)&&o.removeClass(i)})}jQuery(this).fadeIn().attr("data-view",n).addClass(n)}),jQuery.cookie(e,n,{path:"/",expires:999})})},koodiesave:function(e){var t=window.likesdata;if(0===e.length){for(var i=0;jQuery.removeCookie("likes"+i,{path:"/"});i++);return 0}for(var o=[];e.length>4e3;)o.push(e.substr(e.length-4e3)),e=e.substr(0,e.length-4e3);o.push(e),jQuery.each(o,function(e,i){jQuery.cookie("likes"+e,i,{expires:parseInt(t.lifetime),path:"/"})});for(var r=o.length;jQuery.removeCookie("likes"+r,{path:"/"});r++);return o.length}};jQuery(document).ready(function(e){var t,i,o=window.likesdata,r=[];VideoCentral.init(),jQuery(function(){var t=jQuery(".video-home-featured .video-wall-wrap-inner"),i=t.find(".video-carousel");if(VideoCentral.stageSetup(t),jQuery().jcarousel){i.jcarousel({wrap:"circular"}),VideoCentral.autoScroll(i),VideoCentral.targetedStage(i),VideoCentral.prevNextControl();var o=jQuery(".video-home-featured .carousel-nav .video-carousel-clip").jcarousel({vertical:!0,wrap:"circular"});e("body").hasClass("video-central-twenty")?(jQuery(".video-home-featured .video-carousel-prev").jcarouselControl({target:"-=2"}),jQuery(".video-home-featured .video-carousel-next").jcarouselControl({target:"+=2"})):(jQuery(".video-home-featured .video-carousel-prev").jcarouselControl({target:"-=4"}),jQuery(".video-home-featured .video-carousel-next").jcarouselControl({target:"+=4"})),VideoCentral.connectedControl(i,o)}}),jQuery(function(){var t=jQuery(".video-home-popular .video-wall-wrap-inner"),i=t.find(".video-carousel");if(VideoCentral.stageSetup(t),jQuery().jcarousel){i.jcarousel({wrap:"circular"}),VideoCentral.autoScroll(i),VideoCentral.targetedStage(i);var o=jQuery(".video-home-popular .carousel-nav .video-carousel-clip").jcarousel({vertical:!0,wrap:"circular"});e("body").hasClass("video-central-twenty")?(jQuery(".video-home-popular .video-carousel-prev").jcarouselControl({target:"-=2"}),jQuery(".video-home-popular .video-carousel-next").jcarouselControl({target:"+=2"})):(jQuery(".video-home-popular .video-carousel-prev").jcarouselControl({target:"-=4"}),jQuery(".video-home-popular .video-carousel-next").jcarouselControl({target:"+=4"})),VideoCentral.connectedControl(i,o)}}),jQuery("figure.like").likeable(),t="";for(var n=0;void 0!==(r=jQuery.cookie("likes"+n));n++)t+=r;if(t.length>0&&jQuery("figure.like").each(function(){t.indexOf(jQuery(this).attr("data-id")+"_")>-1&&jQuery(this).removeClass("like-animate").addClass("like-complete")}),jQuery("figure.like").bind("like:added",function(e){var i=jQuery(this).attr("data-id");-1===t.indexOf(i+"_")&&jQuery.post(o.ajaxurl,{action:"like",nonce:o.nonce,id:i},function(e){e.success&&(t=t+i+"_",VideoCentral.koodiesave(t))},"json").fail(function(){alert("failed")})}),jQuery("figure.like").bind("like:removed",function(e){var r=jQuery(this).attr("data-id");t.length>0&&(i=t.replace(new RegExp(r+"_","g"),""),t!==i&&jQuery.post(o.ajaxurl,{action:"unlike",nonce:o.nonce,id:r},function(e){e.success&&(VideoCentral.koodiesave(i),t=i)},"json").fail(function(){alert("failed here")}))}),parseInt(o.refresh)>0){jQuery.ajaxSetup({cache:!1});var a=[];jQuery(".likeable").each(function(){a.push(jQuery(this).attr("data-id"))}),setInterval(function(){jQuery.post(o.ajaxurl,{action:"likecounts",nonce:o.nonce,ids:a},function(e){e.success&&jQuery.each(e.counts,function(e,t){jQuery(".like-meta-"+e+" .like-count").html(t)})},"json")},parseInt(o.refresh))}});